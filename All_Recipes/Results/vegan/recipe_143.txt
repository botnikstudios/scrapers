Preheat oven to 350 degrees F (175 degrees C). Grease and flour 24 muffin cups or line with paper liners.
Whisk whole wheat flour, brown sugar, cocoa powder, and salt together in a large bowl.
Stir water, banana, canola oil, and apple cider vinegar together in a separate bowl; add to flour mixture and blend until batter is smooth. Stir in chocolate chips. Pour batter into prepared muffin cups.
Bake in the preheated oven until golden and the tops spring back when lightly pressed, 15 to 20 minutes. Transfer cupcakes to wire wracks to cool completely.
Beat peanut butter and margarine together in a bowl with an electric mixer; add coconut milk and vanilla. Gradually beat confectioners' sugar into peanut butter mixture until icing is well-mixed.
Top cooled cupcakes with icing.

